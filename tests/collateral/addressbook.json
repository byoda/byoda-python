{
    "description": "A simple network to maintain contacts",
    "jsonschema": {
        "$id": "https://service-4294929430.byoda.net/service/addressbook",
        "$schema": "https://json-schema.org/draft-07/schema#",
        "description": "A simple network to maintain contacts",
        "properties": {
            "member": {
                "#accesscontrol": {
                    "member": {
                        "permissions": ["read"]
                    }
                },
                "properties": {
                    "joined": {
                        "description": "Date & time when the pod became a member of the service",
                        "format": "date-time",
                        "type": "string"
                    },
                    "member_id": {
                        "description": "Membership UUID",
                        "regex": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
                        "type": "string"
                    }
                },
                "type": "object",
                "required": ["joined", "member_id"]
            },
            "person": {
                "#accesscontrol": {
                    "member": {
                        "permissions": ["read", "update", "delete"]
                    },
                    "service": {
                        "permissions": ["read"]
                    },
                    "network": {
                        "distance": 1,
                        "relation": "friend|family",
                        "permissions": ["read"]
                    }
                },
                "properties": {
                    "additional_names": {
                        "description": "Any middle names",
                        "type": "string"
                    },
                    "avatar_url": {
                        "type": "string"
                    },
                    "email": {
                        "format": "idn-email",
                        "type": "string",
                        "#accesscontrol": {
                            "service": {
                                "permissions": ["search:exact-caseinsensitive"]
                            }
                        }
                    },
                    "family_name": {
                        "description": "Your surname",
                        "type": "string"
                    },
                    "given_name": {
                        "description": "Your first given name",
                        "type": "string"
                    },
                    "homepage_url": {
                        "type": "string"
                    }
                },
                "type": "object",
                "required": ["given_name", "family_name", "email"]
            },
            "network_links": {
                "#accesscontrol": {
                    "member": {
                        "permissions": ["read", "update", "delete", "append"]
                    }
                },
                "type": "array",
                "items": {
                    "$ref": "/schemas/network_link"
                }
            },
            "memberlogs": {
                "#accesscontrol": {
                    "member": {
                        "permissions": ["read", "delete", "append"]
                    }
                },
                "type": "array",
                "items": {
                    "$ref": "/schemas/memberlog"
                }
            },
            "public_assets": {
                "#accesscontrol": {
                    "member": {
                        "permissions": ["read", "delete", "append"]
                    },
                    "anonymous": {
                        "permissions": ["read"]
                    }
                },
                "type": "array",
                "items": {
                    "$ref": "/schemas/asset"
                }
            },
            "service_members_assets": {
                "#accesscontrol": {
                    "member": {
                        "permissions": ["read", "delete", "append"]
                    },
                    "any_member": {
                        "permissions": ["read"]
                    }
                },
                "type": "array",
                "items": {
                    "$ref": "/schemas/asset"
                }
            },
            "network_assets": {
                "#accesscontrol": {
                    "member": {
                        "permissions": ["read", "delete", "append"]
                    },
                    "network": {
                        "permissions": ["read"],
                        "distance": 1
                    }
                },
                "type": "array",
                "items": {
                    "$ref": "/schemas/asset"
                }
            }

        },
        "title": "addressbook",
        "type": "object",
        "$defs": {
            "network_link": {
                "$id": "/schemas/network_link",
                "$schema": "https://json-schema.org/draft-07/schema#",
                "description": "links to other members who you have a social connection with, such as friend, colleague, family, etc.",
                "type": "object",
                "properties": {
                    "timestamp": {
                        "description": "time the network link was created",
                        "format": "date-time",
                        "type": "string"
                    },
                    "member_id": {
                        "description": "The UUID of the other member",
                        "type": "string",
                        "regex": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
                    },
                    "relation": {
                        "description": "What relation you have with the other member",
                        "type": "string"
                    }
                },
                "required": ["timestamp", "member_id", "relation"]
            },
            "memberlog": {
                "$id": "/schemas/memberlog",
                "$schema": "https://json-schema.org/draft-07/schema#",
                "description": "log entries for the membership of the service",
                "type": "object",
                "properties": {
                    "timestamp": {
                        "description": "time the log entry was created",
                        "format": "date-time",
                        "type": "string"
                    },
                    "remote_addr": {
                        "description": "The remote IP address performing the request",
                        "format": "ipv4",
                        "type": "string"
                    },
                    "action": {
                        "description": "What action was requested by the client",
                        "type": "string"
                    },
                    "message": {
                        "description": "Additional information about the request",
                        "type": "string"
                    }
                },
                "required": ["timestamp", "remote_addr", "action", "action"]
            },
            "asset": {
                "$id": "/schemas/asset",
                "$schema": "https://json-schema.org/draft-07/schema#",
                "description": "an asset like a tweet, a message, a video, etc.",
                "type": "object",
                "properties": {
                    "timestamp": {
                        "description": "time the asset was created",
                        "format": "date-time",
                        "type": "string"
                    },
                    "manifest_url": {
                        "description": "URL for the manifest of the asset",
                        "type": "string",
                        "format": "uri"
                    },
                    "asset_type": {
                        "description": "type of asset, ie. a tweet, a message, a video, etc.",
                        "type": "string"
                    },
                    "keywords": {
                        "description": "comma-separated list of keywords",
                        "type": "string"
                    }
                },
                "required": ["timestamp", "manifest_url", "asset_type"]
            }
        }
    },
    "name": "addressbook",
    "owner": "Steven Hessing",
    "service_id": 4294929430,
    "signatures": {},
    "supportemail": "steven@byoda.org",
    "version": 1,
    "website": "https://www.byoda.org/",
    "cors_origins": [
        "www.byoda.net",
        "addressbook.byoda.net"
    ]
}